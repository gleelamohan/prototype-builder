<template>
  
  <div if:true={isLoaded}>
        <lightning-spinner
            alternative-text="Loading..." variant="brand">
        </lightning-spinner>
        </div>
   
  <div class="main-container" if:true={isStep1}>
    <div class="sub-cointainer">
      <div class="header">
        Prototype Configuration
      </div>
      <div class="section-input" >
       <div style="width:50%">
        <lightning-input type="text" label="Prototype Name" onchange={nameChange}></lightning-input>
      </div>
      </div>
      <div class="demo-only demo-only--sizing slds-grid slds-wrap section-type" >
        <div class="slds-size_1-of-3">
          <div
            class=" slds-m-around_x-small"
          >
          <div style="height:100px;width:100px;">
          <img src={desktop} style="height:80px;width:80px;" /> 
        </div>
          <lightning-input class="device-type" data-value="Desktop" type="checkbox" label="Desktop" name="input-desktop" onchange={handleChangeEvent}>></lightning-input>
          </div>
        </div>
        <div class="slds-size_1-of-3">
          <div
            class=" slds-m-around_x-small"
          >
          <div style="height:100px;width:100px;">
          <img src={mobile}  style="height:70px;width:50px;" />
          </div>
          <lightning-input class="device-type" data-value= "Mobile" type="checkbox" label="Mobile" name="input1" onchange={handleChangeEvent}>></lightning-input>
          </div>
        </div>
        <div class="slds-size_1-of-3">
          <div
            class=" slds-m-around_x-small"
          >
          <div style="height:100px;width:100px;">
          <img src={ipad}  style="height:80px;width:80px;" />
          </div>
          <lightning-input class="device-type" data-value="Ipad" type="checkbox" label="Ipad" name="input1" onchange={handleChangeEvent}>></lightning-input>
          </div>
        </div>
      </div>
      <div class="demo-only demo-only--sizing slds-grid slds-wrap frame-section" >
        <div class="slds-size_1-of-3">
          <lightning-input type="checkbox" class="frame-type" data-value="withFrame" label="Without Frame" onchange={handleFrameChangeEvent} name="input-without"></lightning-input>
          </div>
          <div class="slds-size_1-of-3">
            <lightning-input type="checkbox" class="frame-type" data-value="withoutFrame"  label="With Frame" onchange={handleFrameChangeEvent} name="input-with"></lightning-input>

        </div>
        <div class="slds-size_1-of-3">
        </div>

      </div>
      <div class="section-button">
        <lightning-button variant="brand" label="Next" title="Primary action" onclick={handleStep1Click} class="slds-m-left_x-small"></lightning-button>
      </div>
    </div>
  </div>
  <div class="main-container" if:true={isStep2}>
    <div class="sub-cointainer">
      <div class="header">
       Upload Images
      </div>
      <div class="section-input-upload" if:true={configId}>
    <c-file-upload  record-id={configId}></c-file-upload>
   
  </div>
  <div class="section-button">
    <lightning-button variant="brand" label="Next" title="Primary action" onclick={handleStep2Click} class="slds-m-left_x-small"></lightning-button>
  </div>
  </div>
  </div>
  <div class={isStep3} style="display: flex; height: 1080px; width: 1680px; margin: 0 auto">
    <div class="sub-cointainer" style="width:100%">
      <div class="header" style="text-align:left;" if:true={filesDetails}>
        <div class="demo-only demo-only--sizing slds-grid slds-wrap">
          <div class="slds-size_2-of-3">
            <div class="slds-m-around_x-small"> 
               <lightning-combobox
              name="progress"
              label="Status"
              value={value}
              placeholder="Select Image"
              options={options}
              onchange={handleChange} ></lightning-combobox></div>
          </div>
          <div class="slds-size_1-of-3">
            <div class="slds-m-around_x-small" style="float: left; padding-top: 30px;" if:true={configScreenId}>
              <lightning-input class="homepage" type="checkbox" label="Home Page" name="homepage" onchange={handleHomeChange}></lightning-input>
            </div> 
            <div class="slds-m-around_x-small" if:true={isDelHotspots}  style="float: right; padding-top: 20px;" >
              <lightning-button variant="brand" label="Delete Hotspots" title="Delete Screen Hotspots" onclick={openModal} class="slds-m-left_x-small"></lightning-button>

            </div>
            <div class="slds-m-around_x-small" style="float: right; padding-top: 20px;" if:true={isHome}>
              <lightning-button variant="brand" label="Create App Link" title="Create App Link" onclick={createAppLink} class="slds-m-left_x-small"></lightning-button>

            </div>
          </div>
        </div>
        
      
      </div>
      <div style="min-height: 800px;width:1655px;background-color: #C3C3C3;position: relative;overflow-x:auto;
      overflow-y:auto;">
      <c-image-hotspot donot-reset={doNotReset} version-id={selcvId} screen-hotspots={screenHotspots} image-url={trailheadLogoUrl} image-name={imageName} file-details={test} screen-id={configScreenId} onhotspotspotadd={addHotspotDelList}> </c-image-hotspot>
      </div>
     
      <!--
         <div style="height: 800px;width:1680px;background-color: blue;position: relative;overflow-x:auto;
      overflow-y:auto;">
      
      </div>
      <div style="width:1680px;height:1080px;overflow:auto;">
    <img
      width="1680"
      height="1080"
      src={trailheadLogoUrl}
      class="screenshot"
      draggable="false"
    />
    <svg
      width="1680"
      height="1080"
      viewBox="0 0 1680 1080"
      class="draw"
      xmlns="http://www.w3.org/2000/svg"
    >
      <rect class="marquee" x="450" y="420" width="150" height="150" />
      <g class="boxes"></g>
    </svg>
  </div>-->
    </div>
  </div>
  <div  class="main-container" style="display: flex;
  text-align: center;
  justify-content: center;
  
  font-size: 16px;" if:true={isStep4}>
  <div class="sub-cointainer" style=" width: 100%;">
    <div class="header">
     App URL
    </div>
    <div style="padding-top: 250px;"><a>    https://orgchartsdo31796.lightning.force.com/c/ProtoTypeBuilderConfig.app?templateId={configId}
    </a></div>
    
    </div>
  </div>
  

  <div class="modalpopup hide_modal">
    <section
      role="dialog"
      tabindex="-1"
      aria-labelledby="modal-heading-01"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open"
    >
      <div class="slds-modal__container">
       
        <header class="slds-modal__header">
          <button
            class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
            title="Close"
            onclick={closeModal}
          >
            <lightning-icon
              icon-name="utility:close"
              alternative-text="close"
              variant="inverse"
              size="small"
            ></lightning-icon>
            <span class="slds-assistive-text">Close</span>
          </button>
          <h2
            id="modal-heading-01"
            class="slds-text-heading_medium slds-hyphenate"
          >
            Delete Hotspots
          </h2>
        </header>
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-1"
          style="height: 300px"
        >
        <table aria-multiselectable="true" class="slds-table slds-table_bordered slds-table_fixed-layout slds-table_resizable-cols" role="grid">
          <thead>
            <tr class="slds-line-height_reset">
              <th class="slds-text-align_right" scope="col" style="width:3.25rem">
                <span id="column-group-header" class="slds-assistive-text">Choose a row</span>
                <div class="slds-th__action slds-th__action_form">
                  <div class="slds-checkbox">

                  </div>
                </div>
              </th>
              <th aria-label="Name" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
                  <span class="slds-assistive-text">Sort by: </span>
                  <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                    <span class="slds-truncate" title="Name">Hotspot Name</span>
                  </div>
                </a>
                <div class="slds-resizable">
                  <input type="range" aria-label="Name column width" class="slds-resizable__input slds-assistive-text" id="cell-resize-handle-540" max="1000" min="20" tabindex="0" />
                  <span class="slds-resizable__handle">
                    <span class="slds-resizable__divider"></span>
                  </span>
                </div>
              </th>
            </tr>
          </thead>
          <tbody>
            <template for:each={delHotspots} for:item="hot">
              <tr key={hot.Id} aria-selected="false" class="slds-hint-parent">
                <td class="slds-text-align_right" role="gridcell">
                  <div class="slds-checkbox">
                    <lightning-input data-value={hot.Id} type="checkbox"  name="input-desktop" onchange={handleChangeDeleteCheck}>></lightning-input>
                  </div>
                </td>
                <th scope="row">
                  <div class="slds-truncate" title="Acme - 1,200 Widgets">
                  {hot.Name}
                  </div>
                </th>
                </tr>
            </template>
            </tbody>
            </table>
        </div>
       
        <footer class="slds-modal__footer">
          <button
          class="slds-button slds-button_neutral"
          onclick={closeModal}
          title="Cancel"
        >
          Cancel
        </button>
        <button
          class="slds-button slds-button_brand"
          onclick={fnDelHotspots}
          title="Delete Selected Hotspots"
        >
          Delete
        </button>
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </div>

</template>
